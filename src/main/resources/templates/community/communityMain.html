<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/defaultLayout}">
      
	<head>
		<title>간식줘집사 커뮤니티</title>
	</head>
	<section layout:fragment="contents" class="contents w-100">
		<div class="d-flex justify-content-between w-100">
			<article class="group-article community-cards-list">							
<!-- 
[PostCommunityVO(
postId=1
, userId=4
, loginId=asdf@asdf.com
, nickname=asdf
, title=리태얌
, content=우리리태 건강해야 오래살지 ㅠㅡㅠ
, agePetProper=adult
, createdAt=2024-08-15T18:46:17
, updatedAt=2024-08-15T18:46:17)]
 -->				
				<div class="bar-search-keyword-community">
					<input class="input-search-community" placeholder=" 🔎 Search">
					<button class="btn-seartch-community">
						검색
					</button>
				</div>
				<div class="groups-btns-community">
					<button class="btn-filter-field-community" data-field="agePetProper" data-value="under6months">
						생후 6개월
					</button>
					<button class="btn-filter-field-community" data-field="agePetProper" data-value="adult">
						성견
					</button>
					<button class="btn-filter-field-community" data-field="agePetProper" data-value="senior">
						고령견
					</button>
					<button class="btn-write-new-post">
						<span>글쓰기</span>
						<div class="icon-pencil">
							<svg width="28" height="33" viewBox="0 0 28 33" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M2.64819 28.7474L2.97117 31.2777L5.55141 30.3946L2.64819 28.7474Z" fill="white"/>
								<path d="M1.60748 20.5944C1.60748 20.5944 12.2911 3.18904 13.8426 2.09263C18.5191 -1.21203 26.0965 3.67084 26.1006 9.04724C26.1014 9.97501 13.8655 27.549 13.8655 27.549M1.60748 20.5944L13.8655 27.549M1.60748 20.5944L2.64819 28.7474M13.8655 27.549L5.55141 30.3946M2.64819 28.7474L2.97117 31.2777L5.55141 30.3946M2.64819 28.7474L5.55141 30.3946" stroke="white" stroke-width="2"/>
							</svg>
						</div>
					</button>
				</div>
				<div class="list-articles-latest">
					<th:block th:each="post:${listPosts}">
						<div class="card-post-rect-white-rounded">
						 	<a class="pl-5" th:href="@{/community/post/{postId}(postId=${post.postId})}"
						 	 th:text="|작성자: ${post.nickname}, 제목: ${post.title}, 내용: ${#strings.abbreviate(post.content,25)}|"></a>
						</div>
					</th:block>
				</div>
			</article>
		</div>
	</section>

	<th:block layout:fragment="script">
    	<script>
    		$(document).ready(function(e){
    			$("#groups-nav-header").css("background-color", "#ED5178");
    			$(".groups-nav-aside").css("background-color", "#FFE397");

    			$(".btn-filter-field-community").on('click', function(){
    				let field = $(this).data('field');
    				let value = $(this).data('value');
    				
    				console.log(`${field}, ${value}`);
    				let url = "/community/community-main-view?".concat(field).concat('=').concat(value);
    				
    				console.log(url);
    				location.href= url;
    				
    			})// btn-filter-field-community on click
    		})//document ready
    	
    	</script>
	</th:block>
	
</html>