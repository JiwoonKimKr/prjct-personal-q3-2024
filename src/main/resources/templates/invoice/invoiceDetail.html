<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/defaultLayout}">
      
	<head>
		<title>주문 내역 상세 조회</title>
	</head>
	<section layout:fragment="contents" class="contents w-100">
		<div class="d-flex justify-content-between w-100">
			<article class="group-article background-cards-list">
 				<div class="title-delivery-status-view">
					<!-- icon-carton; 종이상자-->
					<div class="icon-carton pb-2 mr-2">
						<svg width="54" height="46" viewBox="0 0 54 46" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M3 17.7368L17.8235 3H51M3 17.7368H36.1765M3 17.7368V43H36.1765M36.1765 17.7368L51 3M36.1765 17.7368V43M51 3V28.2632L36.1765 43" stroke="#FF8661" stroke-width="5"/>
						</svg>
					</div>
 					<span>
 						주문 내역 상세 조회
					</span>
 				</div>			
				<div class="list-invoice-detail">
					<div class="group-icons-delivery-status">
						<div class="list-rects-delivery-status">
							<div class="rect-delivery-status">
								결제 완료
							</div>
							<div class="rect-delivery-status">
								배송준비 완료
							</div>
							<div class="rect-delivery-status">
								터미널 이동
							</div>
							<div class="rect-delivery-status">
								배송 상차
							</div>
							<div class="rect-delivery-status">
								배송중
							</div>
							<div class="rect-delivery-status">
								배송 완료
							</div>
						</div>
						<div class="group-icon-arrows-delivery-status">
							<!-- icon-arrow-delivery-status; visibility:hidden으로 잡혀있음! -->
							<div class="icon-arrow-delivery-status">
								<svg width="172" height="48" viewBox="0 0 172 48" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g filter="url(#filter0_d_65_590)">
										<path d="M163 1L137.513 14.556L161.996 29.8501L163 1ZM3 1C0.5 1 0.500002 1.00293 0.500007 1.00599C0.50001 1.00719 0.50002 1.0104 0.50003 1.0128C0.500051 1.01762 0.500086 1.02297 0.500139 1.02887C0.500246 1.04067 0.500425 1.05463 0.500716 1.07071C0.5013 1.10288 0.502335 1.14357 0.504139 1.19251C0.507746 1.29036 0.514434 1.42126 0.526756 1.58299C0.551396 1.90639 0.598603 2.35356 0.688918 2.90674C0.869543 4.01307 1.2229 5.54516 1.91378 7.35874C3.30072 10.9994 6.02858 15.7219 11.3537 20.3814C21.9915 29.6895 42.6905 38.5 83 38.5V33.5C43.3095 33.5 24.0085 24.8105 14.6463 16.6186C9.97142 12.5281 7.69928 8.50055 6.58622 5.57876C6.0271 4.11109 5.75546 2.90881 5.62358 2.10108C5.55765 1.69722 5.52673 1.39244 5.51231 1.20314C5.5051 1.10852 5.50202 1.04289 5.50074 1.0083C5.50011 0.99101 5.49992 0.981499 5.49989 0.980024C5.49988 0.979287 5.49991 0.980561 5.49994 0.983879C5.49995 0.985538 5.49997 0.987708 5.49998 0.990394C5.49998 0.991734 5.49999 0.994141 5.49999 0.994809C5.5 0.997338 5.5 1 3 1ZM83 38.5C120.884 38.5 141.442 30.7191 152.613 22.0553L149.549 18.1042C139.592 25.8262 120.295 33.5 83 33.5V38.5Z" fill="white"/>
									</g>
									<defs>
										<filter id="filter0_d_65_590" x="0.5" y="0.979822" width="171.5" height="46.5202" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
											<feFlood flood-opacity="0" result="BackgroundImageFix"/>
											<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
											<feOffset dx="5" dy="5"/>
											<feGaussianBlur stdDeviation="2"/>
											<feComposite in2="hardAlpha" operator="out"/>
											<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
											<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_65_590"/>
											<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_65_590" result="shape"/>
										</filter>
									</defs>
								</svg>
							</div>
							<div class="icon-arrow-delivery-status">
								<svg width="172" height="48" viewBox="0 0 172 48" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g filter="url(#filter0_d_65_590)">
										<path d="M163 1L137.513 14.556L161.996 29.8501L163 1ZM3 1C0.5 1 0.500002 1.00293 0.500007 1.00599C0.50001 1.00719 0.50002 1.0104 0.50003 1.0128C0.500051 1.01762 0.500086 1.02297 0.500139 1.02887C0.500246 1.04067 0.500425 1.05463 0.500716 1.07071C0.5013 1.10288 0.502335 1.14357 0.504139 1.19251C0.507746 1.29036 0.514434 1.42126 0.526756 1.58299C0.551396 1.90639 0.598603 2.35356 0.688918 2.90674C0.869543 4.01307 1.2229 5.54516 1.91378 7.35874C3.30072 10.9994 6.02858 15.7219 11.3537 20.3814C21.9915 29.6895 42.6905 38.5 83 38.5V33.5C43.3095 33.5 24.0085 24.8105 14.6463 16.6186C9.97142 12.5281 7.69928 8.50055 6.58622 5.57876C6.0271 4.11109 5.75546 2.90881 5.62358 2.10108C5.55765 1.69722 5.52673 1.39244 5.51231 1.20314C5.5051 1.10852 5.50202 1.04289 5.50074 1.0083C5.50011 0.99101 5.49992 0.981499 5.49989 0.980024C5.49988 0.979287 5.49991 0.980561 5.49994 0.983879C5.49995 0.985538 5.49997 0.987708 5.49998 0.990394C5.49998 0.991734 5.49999 0.994141 5.49999 0.994809C5.5 0.997338 5.5 1 3 1ZM83 38.5C120.884 38.5 141.442 30.7191 152.613 22.0553L149.549 18.1042C139.592 25.8262 120.295 33.5 83 33.5V38.5Z" fill="white"/>
									</g>
									<defs>
										<filter id="filter0_d_65_590" x="0.5" y="0.979822" width="171.5" height="46.5202" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
											<feFlood flood-opacity="0" result="BackgroundImageFix"/>
											<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
											<feOffset dx="5" dy="5"/>
											<feGaussianBlur stdDeviation="2"/>
											<feComposite in2="hardAlpha" operator="out"/>
											<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
											<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_65_590"/>
											<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_65_590" result="shape"/>
										</filter>
									</defs>
								</svg>
							</div>
							<div class="icon-arrow-delivery-status">
								<svg width="172" height="48" viewBox="0 0 172 48" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g filter="url(#filter0_d_65_590)">
										<path d="M163 1L137.513 14.556L161.996 29.8501L163 1ZM3 1C0.5 1 0.500002 1.00293 0.500007 1.00599C0.50001 1.00719 0.50002 1.0104 0.50003 1.0128C0.500051 1.01762 0.500086 1.02297 0.500139 1.02887C0.500246 1.04067 0.500425 1.05463 0.500716 1.07071C0.5013 1.10288 0.502335 1.14357 0.504139 1.19251C0.507746 1.29036 0.514434 1.42126 0.526756 1.58299C0.551396 1.90639 0.598603 2.35356 0.688918 2.90674C0.869543 4.01307 1.2229 5.54516 1.91378 7.35874C3.30072 10.9994 6.02858 15.7219 11.3537 20.3814C21.9915 29.6895 42.6905 38.5 83 38.5V33.5C43.3095 33.5 24.0085 24.8105 14.6463 16.6186C9.97142 12.5281 7.69928 8.50055 6.58622 5.57876C6.0271 4.11109 5.75546 2.90881 5.62358 2.10108C5.55765 1.69722 5.52673 1.39244 5.51231 1.20314C5.5051 1.10852 5.50202 1.04289 5.50074 1.0083C5.50011 0.99101 5.49992 0.981499 5.49989 0.980024C5.49988 0.979287 5.49991 0.980561 5.49994 0.983879C5.49995 0.985538 5.49997 0.987708 5.49998 0.990394C5.49998 0.991734 5.49999 0.994141 5.49999 0.994809C5.5 0.997338 5.5 1 3 1ZM83 38.5C120.884 38.5 141.442 30.7191 152.613 22.0553L149.549 18.1042C139.592 25.8262 120.295 33.5 83 33.5V38.5Z" fill="white"/>
									</g>
									<defs>
										<filter id="filter0_d_65_590" x="0.5" y="0.979822" width="171.5" height="46.5202" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
											<feFlood flood-opacity="0" result="BackgroundImageFix"/>
											<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
											<feOffset dx="5" dy="5"/>
											<feGaussianBlur stdDeviation="2"/>
											<feComposite in2="hardAlpha" operator="out"/>
											<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
											<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_65_590"/>
											<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_65_590" result="shape"/>
										</filter>
									</defs>
								</svg>
							</div>
							<div class="icon-arrow-delivery-status">
								<svg width="172" height="48" viewBox="0 0 172 48" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g filter="url(#filter0_d_65_590)">
										<path d="M163 1L137.513 14.556L161.996 29.8501L163 1ZM3 1C0.5 1 0.500002 1.00293 0.500007 1.00599C0.50001 1.00719 0.50002 1.0104 0.50003 1.0128C0.500051 1.01762 0.500086 1.02297 0.500139 1.02887C0.500246 1.04067 0.500425 1.05463 0.500716 1.07071C0.5013 1.10288 0.502335 1.14357 0.504139 1.19251C0.507746 1.29036 0.514434 1.42126 0.526756 1.58299C0.551396 1.90639 0.598603 2.35356 0.688918 2.90674C0.869543 4.01307 1.2229 5.54516 1.91378 7.35874C3.30072 10.9994 6.02858 15.7219 11.3537 20.3814C21.9915 29.6895 42.6905 38.5 83 38.5V33.5C43.3095 33.5 24.0085 24.8105 14.6463 16.6186C9.97142 12.5281 7.69928 8.50055 6.58622 5.57876C6.0271 4.11109 5.75546 2.90881 5.62358 2.10108C5.55765 1.69722 5.52673 1.39244 5.51231 1.20314C5.5051 1.10852 5.50202 1.04289 5.50074 1.0083C5.50011 0.99101 5.49992 0.981499 5.49989 0.980024C5.49988 0.979287 5.49991 0.980561 5.49994 0.983879C5.49995 0.985538 5.49997 0.987708 5.49998 0.990394C5.49998 0.991734 5.49999 0.994141 5.49999 0.994809C5.5 0.997338 5.5 1 3 1ZM83 38.5C120.884 38.5 141.442 30.7191 152.613 22.0553L149.549 18.1042C139.592 25.8262 120.295 33.5 83 33.5V38.5Z" fill="white"/>
									</g>
									<defs>
										<filter id="filter0_d_65_590" x="0.5" y="0.979822" width="171.5" height="46.5202" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
											<feFlood flood-opacity="0" result="BackgroundImageFix"/>
											<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
											<feOffset dx="5" dy="5"/>
											<feGaussianBlur stdDeviation="2"/>
											<feComposite in2="hardAlpha" operator="out"/>
											<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
											<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_65_590"/>
											<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_65_590" result="shape"/>
										</filter>
									</defs>
								</svg>
							</div>
							<div class="icon-arrow-delivery-status">
								<svg width="172" height="48" viewBox="0 0 172 48" fill="none" xmlns="http://www.w3.org/2000/svg">
									<g filter="url(#filter0_d_65_590)">
										<path d="M163 1L137.513 14.556L161.996 29.8501L163 1ZM3 1C0.5 1 0.500002 1.00293 0.500007 1.00599C0.50001 1.00719 0.50002 1.0104 0.50003 1.0128C0.500051 1.01762 0.500086 1.02297 0.500139 1.02887C0.500246 1.04067 0.500425 1.05463 0.500716 1.07071C0.5013 1.10288 0.502335 1.14357 0.504139 1.19251C0.507746 1.29036 0.514434 1.42126 0.526756 1.58299C0.551396 1.90639 0.598603 2.35356 0.688918 2.90674C0.869543 4.01307 1.2229 5.54516 1.91378 7.35874C3.30072 10.9994 6.02858 15.7219 11.3537 20.3814C21.9915 29.6895 42.6905 38.5 83 38.5V33.5C43.3095 33.5 24.0085 24.8105 14.6463 16.6186C9.97142 12.5281 7.69928 8.50055 6.58622 5.57876C6.0271 4.11109 5.75546 2.90881 5.62358 2.10108C5.55765 1.69722 5.52673 1.39244 5.51231 1.20314C5.5051 1.10852 5.50202 1.04289 5.50074 1.0083C5.50011 0.99101 5.49992 0.981499 5.49989 0.980024C5.49988 0.979287 5.49991 0.980561 5.49994 0.983879C5.49995 0.985538 5.49997 0.987708 5.49998 0.990394C5.49998 0.991734 5.49999 0.994141 5.49999 0.994809C5.5 0.997338 5.5 1 3 1ZM83 38.5C120.884 38.5 141.442 30.7191 152.613 22.0553L149.549 18.1042C139.592 25.8262 120.295 33.5 83 33.5V38.5Z" fill="white"/>
									</g>
									<defs>
										<filter id="filter0_d_65_590" x="0.5" y="0.979822" width="171.5" height="46.5202" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
											<feFlood flood-opacity="0" result="BackgroundImageFix"/>
											<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
											<feOffset dx="5" dy="5"/>
											<feGaussianBlur stdDeviation="2"/>
											<feComposite in2="hardAlpha" operator="out"/>
											<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
											<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_65_590"/>
											<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_65_590" result="shape"/>
										</filter>
									</defs>
								</svg>
							</div>
						</div>
					</div><!-- __end__group-icons-delivery-status -->
					<div class="group-list-info-detail-invoice group-list-info-detail-delivery">
<!-- Invoice -->
						<div class="title-list-items-delivery mb-1">
							배송 상세 정보
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								수령인
							</div>
							<div th:text="${invoice.receiverName}" class="text-item-info-detail-delivery">
								서리태
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								수령인 연락처
							</div>
							<div th:text="${invoice.receiverPhoneNumber}" class="text-item-info-detail-delivery">
								01012341234
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								배송 주소
							</div>
							<div th:text="${invoice.address}" class="text-item-info-detail-delivery">
								서울시 서초구
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								배송 상태
							</div>
							<div th:text="${invoice.statusDeliveryTranslatedK}" class="text-item-info-detail-delivery">
								배송 완료
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								결제자
							</div>
							<div th:text="${invoice.buyerName}" class="text-item-info-detail-delivery">
								서리태
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								결제자 연락처
							</div>
							<div th:text="${invoice.buyerPhoneNumber}" class="text-item-info-detail-delivery">
								01098769876
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								결제금액
							</div>
							<div th:text="'￦ '+${invoice.payment}" class="text-item-info-detail-delivery">
								25000
							</div>
						</div>
						<!-- 포트원 결제 도입으로 삭제__21 08 2024
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								결제 타입
							</div>
							<div th:text="${invoice.paymentType}" class="text-item-info-detail-delivery">
								계좌이체
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								결제 회사
							</div>
							<div th:text="${invoice.company}" class="text-item-info-detail-delivery">
								쉰한카드
							</div>
						</div>
						<div class="group-item-info-detail-delivery">
							<div class="label-item-info-detail-delivery">
								할부 개월
							</div>
							<div th:text="${invoice.monthlyInstallment}" class="text-item-info-detail-delivery">
								120개월 할부
							</div>
						</div>
						 -->
					</div> <!--__end__ group-list-info-detail-delivery -->
					<div class="group-list-items-invoice group-list-info-detail-delivery mt-5">
						<div class="title-list-items-delivery mb-1">
							배송 물품 목록
						</div>
<!-- 
[ItemOrderedVO(
productInvoiceId=8
, productId=18
, productName=puppyTreat18
, category=간식
, price=15000
, agePetProper=성견
, imgProfile=/images/productProfile_1723108839929/ì¤í¬ë¦°ì· 2024-08-08 181900.png
, imgThumbnail=/images/productProfile_1723108839929/thumbna6il_ì¤í¬ë¦°ì· 2024-08-08 181900.png
, quantity=3)]
 -->						
							<th:block th:each="item: ${listItems}">
		 						<div class="card-item-detail-delivery-status">
		 							<div class="image-card-item-detail">
		 								<img th:src="${item.imgProfile}" width="200" height="200">
		 							</div>
		 							<div class="groups-right-side-card-item-detail">
		 								<div class="title-card-item-detail">
		 									<span th:text="${item.productName}"></span>
		 									<span class="mr-3" th:text="|수량: ${item.quantity}|"></span>
		 									<span class="mr-3" th:text="|￦ ${item.price}|"></span>
		 								</div>
		 								<div class="group-btns-card-item-detail">								
										</div>
									</div><!--__end__ .groups-right-side-card-item-detail  --> 							
		 						</div><!--__end__ .card-item-detail  -->
	 						</th:block> 
					</div>
				</div><!--__end__list-detail-delivery-status  -->						
			</article>
		</div>
	</section>

	<th:block layout:fragment="script">
    	<script th:inline="javascript">
    		$(document).ready(function(e){
    			updateCurrentStatusDelivery();
    			
    			function updateCurrentStatusDelivery(){
    				let currentDeliveryStatus = /*[[${invoice.statusDelivery}]]*/null;
        			console.log(currentDeliveryStatus);
        			/* 배송상태 String[]; (순서대로) '결제 완료', '배송준비 완료', '터미널 이동', '배송 상차', '배송중', '배송완료'*/
        			let arrDeliveryStatus = ["PaymentBilled", "PackingFinished", "TerminalHub", "EndPoint", "DeliveryCurrent", "DeliveryFinished"];
        			let indexCur = -1;
        			for(let i = 0; i < arrDeliveryStatus.length; i++){
        				if(arrDeliveryStatus[i] == currentDeliveryStatus){
        					indexCur = i;
        					break;
        				}
        			}
        			//console.log(indexCur);
        			
        			let listRectsDeliveryStatus = $(".rect-delivery-status");
        			//console.log(listRectsDeliveryStatus);
        			for(let i = 0; i < listRectsDeliveryStatus.length; i++){
    					if(i <= indexCur){
    						listRectsDeliveryStatus[i].style.setProperty('border', '3px solid #FF6868');
    					}
    				}
        			
    				let listArrowIcons = $(".icon-arrow-delivery-status");
    				//console.log(listArrowIcons);
    				for(let i = 0; i < listArrowIcons.length; i++){
    					if(i < indexCur){
    						listArrowIcons[i].style.setProperty('visibility', 'visible');
    					}
    				}
    			}
				
    		})//document ready
    	
    	</script>
	</th:block>
	
</html>