<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/adminDefaultLayout}">
    <head>
    	<title>
    		ìµœê·¼ ê²°ì œì™„ë£Œ ì£¼ë¬¸ ì¡°íšŒ
    	</title>
    </head>
	<section layout:fragment="contents" class="contents mt-5">
			<article class="group-article ">
				<!-- ìƒí’ˆ ì¡°íšŒ ìƒì„¸ ë‚´ì—­ ì¶œë ¥_ì‹œì‘ -->
				<div class="mt-5">
					<table class="table-striped table-hover text-center w-100">
						<thead>
							<tr>
								<th>ì£¼ë¬¸<br>ê³ ìœ ë²ˆí˜¸</th>
								<th>ê²°ì œì<br>ë¡œê·¸ì¸ì•„ì´ë””</th>
								<th>ê²°ì œì<br>PK</th>
								<th>ì´ ê²°ì œ ê¸ˆì•¡</th>
								<th>ê²°ì œ ì™„ë£Œ<br>ì‹œê°„</th>
								<th>ì£¼ë¬¸<br>ì·¨ì†Œ ì—¬ë¶€</th>
								<th>ë°°ì†¡ í˜„í™©</th>
								<th>ë°°ì†¡<br>ì¤€ë¹„ ìƒíƒœ</th>
								<th>íƒë°° ìƒì°¨<br>ì™„ë£Œ ì—¬ë¶€</th>
							</tr>
						<thead>
						<tbody id="tableBody">
							<tr>
								<th>
									<button class="btn-invoice-detail btn btn-danger" th:data-id="${invoice.id}" th:data-user-id="${invoice.userId}" th:text="${invoice.id}">
										ì£¼ë¬¸ê³ ìœ ë²ˆí˜¸
									</button>
								</th>
								<th>
									<button class="btn-user-detail btn btn-success" th:data-id="${invoice.id}" th:data-user-id="${invoice.userId}" th:text="${invoice.loginId}">
										ê²°ì œì ë¡œê·¸ì¸ì•„ì´ë””
									</button>
								</th>
								<th>
									<button class="btn-user-detail btn btn-success" th:data-id="${invoice.id}" th:data-user-id="${invoice.userId}" th:text="${invoice.userId}">
										ê²°ì œì PK
									</button>
								</th>
								<td th:text="'ï¿¦' +${invoice.payment}"></td>
								<td th:text="${invoice.updatedAt}"></td>
								<td th:text="${invoice.hasCanceled}"></td>
								<td th:text="${invoice.statusDelivery}"></td>
								<td th:text="${invoice.statusDelivery == 'ë°°ì†¡ì¤€ë¹„ ì™„ë£Œ' ? 'O' : 'X'}"></td>
								<td th:text="${invoice.statusDelivery == 'í„°ë¯¸ë„ ì´ë™' ? 'O' : 'X'}"></td>
							</tr>
						</tbody>
					</table>
				</div>
				<!-- í•´ë‹¹ ì£¼ë¬¸ ìƒì„¸ ë‚´ì—­; listProducts -->
				<div class="mt-5 mx-4">
					<table class="table-striped table-hover text-center w-100">
						<thead>
							<tr>
								<th>ì œí’ˆ ê³ ìœ ë²ˆí˜¸</th>
								<th>ì œí’ˆëª…</th>
								<th>ì£¼ë¬¸ ìˆ˜ëŸ‰</th>
								<th>ì¹´í…Œê³ ë¦¬</th>
								<th>ê°€ê²©</th>
								<th>ì„­ì·¨ì ì •ì—°ë ¹</th>
								<th>ì´ë¯¸ì§€</th>
							</tr>
						</thead>
						<tbody>
							<th:block th:each="itemOrdered : ${listProducts}">
<!-- 
	private int countOrdered;
	private int productId;
	private String productName;
	private String category;
	private int price;
	private String agePetProper;
	private String imgProfile;
	private String imgThumbnail;
 -->							
								<tr>
									<th>
										<button class="btn-product-detail btn btn-primary" th:data-product-id="${itemOrdered.productId}" th:text="${itemOrdered.productId}">
										</button>
									</th>
									<th>
										<button class="btn-product-detail btn btn-primary" th:data-product-id="${itemOrdered.productId}" th:text="${itemOrdered.productName}">
										</button>
									</th>
									<th th:text="${itemOrdered.countOrdered}"></th>
									<th th:text="${itemOrdered.category}"></th>
									<th th:text="${itemOrdered.price}"></th>
									<th th:text="${itemOrdered.agePetProper}"></th>
									<th><img th:src="${itemOrdered.imgThumbnail}" width="50"></th>
								</tr>
							</th:block>
						</tbody>
					</table>
				</div>
			</article>
	</section>

	<th:block layout:fragment="script">
    	<script th:inline="javascript">
    		$(document).ready(function(){
    			
     			$(".btn-invoice-detail").on('click', function(){
     				let invoiceId = $(this).data('id');
     				let userId = $(this).data('user-id'); //ğŸš«ğŸ›‘ğŸš«ğŸ›‘data ë°›ì•„ì˜¬ ë•ŒëŠ” ì ˆëŒ€ ëŒ€ë¬¸ì ì„ì–´ì„œ ì“°ë©´ ì•ˆ ëœë‹¤ ã… ã…  Snake Caseë¡œ ì‘ì„±í•´ì•¼!
     				
     				location.href= "/admin/invoice/invoice-latest-detail-view?invoiceId=" + invoiceId
     								+ "&userId=" + userId;
     			})//btn-invoice-detail on click
     			
     			$(".btn-user-detail").on('click', function(){
     				let userId = $(this).data('user-id');
     				
     				//ì‚¬ìš©ì ì •ë³´ì¡°íšŒ í˜ì´ì§€ë¡œ ì´ë™
     				location.href= "/admin/user/user-detail-view?userId=" + userId;
     			})//btn-user-detail on click
     			
     			$(".btn-product-detail").on('click', function(){
     				let productId = $(this).data('product-id')
     				
     				location.href= "/admin/product/" + productId; //ì´ë²ˆì—ëŠ” ì™€ì¼ë“œì¹´ë“œ ë¬¸ë²•ìœ¼ë¡œ ì‘ì„± 
     			})// btn-product-detail on click
     			
    		})//document ready
    	
    	</script>
	</th:block>
	
</html>